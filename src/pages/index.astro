---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import { generateSlug } from '../utils';

const recipes = await getCollection('recipes');
---

<BaseLayout>
  <h1 class="text-3xl font-bold mb-4">This is my awesome recipe site</h1>
  <p>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat asperiores
    deleniti eos cum iure incidunt sapiente minus aspernatur optio vitae saepe
    placeat, tempora sit temporibus necessitatibus enim illo at molestiae.
  </p>
  {
    recipes.map((recipe) => (
      <article class="my-4">
        <h2 class="text-2xl font-bold">
          <a href={`/recipes/${generateSlug(recipe.data.title)}`}>
            {recipe.data.title}
          </a>
        </h2>
        <p>{recipe.data.metaInfo.description}</p>
      </article>
    ))
  }
</BaseLayout>
